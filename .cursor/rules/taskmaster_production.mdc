---
description: Reglas para manejo seguro de tareas en aplicaciones en producciÃ³n
globs: .taskmaster/**/*, tasks/**/*
alwaysApply: true
---

# ğŸ“‹ **REGLAS DE TASKMASTER EN PRODUCCIÃ“N**

## **âš ï¸ CONTEXTO CRÃTICO**

- **AplicaciÃ³n en PRODUCCIÃ“N con usuarios reales**
- **Tareas que afectan funcionalidad de usuarios reales**
- **NUNCA implementar cambios que rompan funcionalidad existente**

---

## **ğŸ”’ PRINCIPIOS DE GESTIÃ“N DE TAREAS**

### **âœ… PRINCIPIOS SEGUROS:**

- **Agregar nuevas funcionalidades** sin modificar existentes
- **Mantener retrocompatibilidad** con funcionalidad actual
- **Preservar experiencia** de usuarios existentes
- **Crear nuevas caracterÃ­sticas** en lugar de modificar existentes

### **âŒ PRINCIPIOS PELIGROSOS:**

- **Modificar funcionalidad existente** sin verificar impacto
- **Eliminar caracterÃ­sticas** que usan usuarios reales
- **Cambiar comportamiento** de funcionalidad en uso
- **Romper interfaces** de usuarios existentes

---

## **ğŸ›¡ï¸ VALIDACIÃ“N DE TAREAS**

### **Checklist obligatorio antes de implementar:**

- [ ] **Â¿La tarea agrega nueva funcionalidad?** â†’ âœ… Seguro
- [ ] **Â¿La tarea modifica funcionalidad existente?** â†’ âš ï¸ Verificar impacto
- [ ] **Â¿La tarea elimina funcionalidad existente?** â†’ âŒ PELIGROSO
- [ ] **Â¿La tarea afecta datos de usuarios reales?** â†’ âš ï¸ Verificar impacto
- [ ] **Â¿La tarea rompe funcionalidad existente?** â†’ âŒ PELIGROSO

### **Tipos de tareas identificadas:**

```markdown
# âœ… TAREAS SEGURAS (Agregar funcionalidad)

- Implementar botones de favoritos
- Agregar funcionalidad de "visto"
- Crear nuevos componentes
- Agregar nuevas pÃ¡ginas
- Implementar nuevas caracterÃ­sticas

# âš ï¸ TAREAS DE RIESGO (Modificar existente)

- Cambiar diseÃ±o de componentes existentes
- Modificar comportamiento de funcionalidad
- Actualizar interfaces de usuario
- Cambiar flujos de trabajo existentes

# âŒ TAREAS PELIGROSAS (Eliminar/modificar crÃ­tico)

- Eliminar funcionalidad existente
- Cambiar autenticaciÃ³n
- Modificar base de datos existente
- Romper funcionalidad de usuarios
```

---

## **ğŸ” ANÃLISIS DE IMPACTO**

### **Antes de implementar cualquier tarea:**

1. **Identificar funcionalidad afectada:**

   - Â¿QuÃ© componentes se modifican?
   - Â¿QuÃ© pÃ¡ginas se afectan?
   - Â¿QuÃ© datos se tocan?
   - Â¿QuÃ© usuarios se impactan?

2. **Verificar que NO se rompa:**

   - âŒ Funcionalidad de autenticaciÃ³n
   - âŒ CreaciÃ³n de watchlists
   - âŒ Agregar pelÃ­culas a watchlists
   - âŒ Compartir watchlists
   - âŒ BÃºsqueda de pelÃ­culas
   - âŒ NavegaciÃ³n entre pÃ¡ginas

3. **Confirmar que solo se agregue:**
   - âœ… Nueva funcionalidad opcional
   - âœ… Nuevos componentes
   - âœ… Nuevas caracterÃ­sticas
   - âœ… Mejoras de UI/UX

---

## **ğŸ“‹ TAREAS ACTUALES Y SU IMPACTO**

### **Tareas completadas (VERIFICAR QUE SIGAN FUNCIONANDO):**

```markdown
âœ… Tarea 27: Implementar eliminaciÃ³n con confirmaciÃ³n

- Componente: WatchlistMovieCard.tsx
- Funcionalidad: Eliminar pelÃ­culas de watchlists
- Impacto: Usuarios pueden eliminar pelÃ­culas
- Estado: COMPLETADA

âœ… Tarea 42: Implementar barra de acciones

- Componente: WatchlistMovieCard.tsx
- Funcionalidad: Botones de favoritos, visto, eliminar
- Impacto: Usuarios pueden marcar favoritos y visto
- Estado: COMPLETADA
```

### **Tareas pendientes (EVALUAR IMPACTO):**

```markdown
âš ï¸ Tarea 26: Sistema de internacionalizaciÃ³n (i18n)

- Impacto: Cambiar textos de la aplicaciÃ³n
- Riesgo: MEDIO - Puede afectar experiencia de usuarios
- RecomendaciÃ³n: Implementar gradualmente

âš ï¸ Tarea 28: Modo oscuro/noche

- Impacto: Cambiar tema de la aplicaciÃ³n
- Riesgo: BAJO - Solo cambio visual
- RecomendaciÃ³n: Implementar como opciÃ³n

âš ï¸ Tarea 32: Actualizar rutas de watchlist detail

- Impacto: Cambiar URLs de watchlists
- Riesgo: ALTO - Puede romper enlaces existentes
- RecomendaciÃ³n: Implementar redirecciones

âš ï¸ Tarea 35: Evitar duplicados al agregar pelÃ­culas

- Impacto: Cambiar comportamiento de agregar pelÃ­culas
- Riesgo: MEDIO - Puede confundir a usuarios
- RecomendaciÃ³n: Implementar con notificaciÃ³n clara
```

---

## **ğŸš¨ ALERTAS CRÃTICAS**

### **Si detectas estas tareas, EVALUAR CUIDADOSAMENTE:**

- Tareas que modifican autenticaciÃ³n
- Tareas que cambian base de datos existente
- Tareas que eliminan funcionalidad
- Tareas que cambian URLs/rutas
- Tareas que modifican comportamiento crÃ­tico

### **Comandos de emergencia:**

- **Pausar implementaciÃ³n** si hay riesgo de romper funcionalidad
- **Informar al usuario** sobre cualquier cambio que pueda afectar usuarios
- **Sugerir testing** antes de implementar cambios
- **Validar impacto** antes de proceder

---

## **ğŸ’¡ MEJORES PRÃCTICAS**

### **Para implementar tareas:**

1. **Leer descripciÃ³n completa** de la tarea
2. **Identificar componentes afectados** antes de empezar
3. **Verificar que no se rompa funcionalidad existente**
4. **Probar en entorno de desarrollo** antes de producciÃ³n
5. **Validar que usuarios actuales mantengan funcionalidad**

### **Para tareas de riesgo:**

1. **Crear backup** antes de implementar
2. **Implementar gradualmente** si es posible
3. **Probar exhaustivamente** antes de implementar
4. **Documentar cambios** para otros desarrolladores
5. **Monitorear** despuÃ©s de implementar

### **Para tareas peligrosas:**

1. **Evaluar alternativas** menos riesgosas
2. **Implementar en etapas** si es posible
3. **Crear rollback plan** antes de implementar
4. **Comunicar cambios** a usuarios si es necesario
5. **Monitorear de cerca** despuÃ©s de implementar

---

## **ğŸ”§ HERRAMIENTAS DE VALIDACIÃ“N**

### **Antes de implementar tareas:**

```bash
# Verificar que la aplicaciÃ³n compile
npm run build

# Verificar que no haya errores de TypeScript
npm run type-check

# Verificar que no haya errores de linting
npm run lint
```

### **DespuÃ©s de implementar tareas:**

```bash
# Verificar que la aplicaciÃ³n funcione
npm run dev

# Verificar que no haya errores en consola
# Revisar funcionalidad existente
# Probar nuevas funcionalidades
# Validar que usuarios actuales mantengan funcionalidad
```

---

**ğŸ¯ OBJETIVO: Implementar nuevas funcionalidades de manera segura sin comprometer la experiencia de usuarios reales que ya usan la aplicaciÃ³n.**
